
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Joyous Tree Friends - Language Perils</title>
  <meta name="author" content="Daniel Beskin">

  
  <meta name="description" content="Having introduced Joy in the previous post, as per our grand scheme of things, we are now ready for some coding. As a first small project, I decided &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ncreep.github.io/language_perils/blog/2013-04-21-joyous-tree-friends.html">
  <link href="/language_perils/favicon.png" rel="icon">
  <link href="/language_perils/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/language_perils/javascripts/modernizr-2.0.js"></script>
  <script src="/language_perils/javascripts/ender.js"></script>
  <script src="/language_perils/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/language_perils/atom.xml" rel="alternate" title="Language Perils" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39780832-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/language_perils/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ncreep.github.io/language_perils" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/language_perils/">
        <span class="site_title">
            Language Perils
        </span>
       
    </a></li>
  <li><a href="/language_perils/">Blog</a></li>
  <li><a href="/language_perils/blog/archives">Archives</a></li>
  <!-- <li><a href="/language_perils/about">About me</a></li> -->
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Joyous Tree Friends</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-21T18:15:00+03:00" pubdate data-updated="true">Apr 21<span>st</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Having introduced Joy in the <a href="/language_perils/blog/2013-03-18-the-joy-of-joy.html">previous post</a>, as per our <a href="/language_perils/blog/2013-03-18-introduction.html">grand scheme of things</a>, we are now ready for some coding.</p>

<p>As a first small project, I decided to try and implement a simple <a href="http://en.wikipedia.org/wiki/Binary_search_tree">binary search tree</a>. Nothing fancy, no self-balancing or anything <a href="http://j.rigelseven.com/read/67201/">evil like that</a>. Just your Plain Old Binary Search Tree (which can be handily abbreviated as POBST).</p>

<p>The reason for this boring textbook example is twofold. First, Joy being, for me, a rather new way of thinking about code, I didn&#8217;t want to distract myself with something overly creative. Having a ready recipe for the thing I want to code provides me with a nice distraction-free, Joyful coding experience. Second, as Joy stresses function-level programming (no values and all that), I was wondering how a data structure, which I think of as a value, would look like in this paradigm.</p>

<!-- more -->


<p>(Source code for this post is in the <a href="https://github.com/ncreep/language_perils/blob/master/Joy/bin_tree/Trees.joy">repository</a>).</p>

<p>First thing first, we need to have some representation of our tree. Now, we are quite far from our cozy OO land, mind you; we don&#8217;t even have simple structs in Joy. So this is your typical &#8220;we&#8217;re not in Kansas anymore&#8221; situation.<br/>
The omnipresent lists to the rescue. As we remember (or not), lists in Joy are heterogeneous, so we can stuff anything in them, including other lists, which fits well with the recursive nature of trees.</p>

<p>So for our tree, we&#8217;ll use a list with three elements - the first is the value, the second is the left subtree, and the third is the right subtree. All parts are optional. A couple of examples:</p>

<p>An empty tree</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[]</span></code></pre></td></tr></table></div></figure>


<p>A tree with a single node</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[8 [] []]</span></code></pre></td></tr></table></div></figure>


<p>And this tree</p>

<p><img class="center" src="/language_perils/images/joy/simple_tree.png"></p>

<p>is</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[8 [2 [1 [] []] [5 [] []]] [10 [] [12 [] []]]]</span></code></pre></td></tr></table></div></figure>


<p>Untangled all the brackets? Great, we can move on.</p>

<p>In view of how simple the tree representation is, the second reason for implementing binary trees kind of evaporates, oh well&#8230;</p>

<p>The <a href="https://github.com/ncreep/language_perils/blob/master/Joy/bin_tree/Trees.joy">full source code</a> should be documented enough to be, in most parts, fairly readable; so I won&#8217;t be explaining it step by step here. The final result is rather boring, e.g., we can create and query a tree like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>new-tree [4 8 6 1 3 6 4 3 4 9] add-all 3 tree-contains # =&gt; true</span></code></pre></td></tr></table></div></figure>


<p>(Note that, due to what I think is a bug in the interpreter, when adding a large number of items at a time, say 100, sometimes the interpreter either crashes or gives unexpected errors.)</p>

<p>No surprises here. But there are some interesting implementation details that are actually worth a discussion; we are getting to them below.</p>

<p>Having implemented getters (in a moment, we&#8217;ll see <code>value</code>, which extracts the value of a tree node), setters (as our trees are immutable, setters, or any mutating operations, actually produce new trees) and some predicates for the tree parts, I am getting to the interesting bits: adding and removing elements from the tree.</p>

<p>Adding an item to the tree is a simple recursive operation: traverse the tree till you find the right place, insert a new node with the value there. In case the item is already present, do nothing. Joy being Joy, we have a combinator that makes this possible without writing an explicitly recursive function. In this case, we use <code>condlinrec</code> (see <a href="http://www.kevinalbrecht.com/code/joy-mirror/html-manual.html">manual</a>), which performs linear recursion, but unlike <code>linrec</code> it can check for multiple conditions before the recursion step or stopping.</p>

<p>A skeleton for the adding function looks like something like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>add-val == [
</span><span class='line'>    [ [empty-tree] [create-new-tree-with-the-value] ]
</span><span class='line'>    [ [value =] [do-nothing] ]
</span><span class='line'>    
</span><span class='line'>    [ [value &lt;] [set-left-tree-for-recursion] [insert-new-left-tree] ]
</span><span class='line'>    [ [set-right-tree-for-recursion] [insert-new-right-tree] ]
</span><span class='line'>] condlinrec</span></code></pre></td></tr></table></div></figure>


<p>It&#8217;s not that difficult to fill in the pseudocode bits, but we won&#8217;t be doing that; instead, let&#8217;s see what the deleting function should look like. In pseudocode:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>delete-val == [
</span><span class='line'>    [ [empty-tree] [do-nothing] ]
</span><span class='line'>    [ [value =] [create-a-new-tree-without-the-value] ]
</span><span class='line'>    
</span><span class='line'>    [ [value &lt;] [set-left-tree-for-recursion] [insert-new-left-tree] ]
</span><span class='line'>    [ [set-right-tree-for-recursion] [insert-new-right-tree] ]
</span><span class='line'>] condlinrec</span></code></pre></td></tr></table></div></figure>


<p>Hmm, rather similar, in both cases we are rebuilding the tree according to some value; the differences occur when we actually get to the value or when it&#8217;s missing. Being conscientious programmers, we cannot let this code duplication be. The code must be WET (which is like DRY, but more suitable for trees), and we must find a way to hydrate it.</p>

<p>Simple enough, this is a functional language; we can pass the appropriate handler functions as parameters and let them take care of the differences, while keeping common code intact:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>build-tree-with-value == [
</span><span class='line'>    [ [empty-tree] [empty-handler] ]
</span><span class='line'>    [ [value =] [value-handler] ]
</span><span class='line'>    
</span><span class='line'>    [ [value &lt;] [set-left-tree-for-recursion] [insert-new-left-tree] ]
</span><span class='line'>    [ [set-right-tree-for-recursion] [insert-new-right-tree] ]
</span><span class='line'>] condlinrec
</span><span class='line'>
</span><span class='line'>add-val == [[do-nothing] [create-new-tree-with-the-value]] build-tree-with-value
</span><span class='line'>delete-val == [[create-a-new-tree-without-the-value] [do-nothing]] build-tree-with-value</span></code></pre></td></tr></table></div></figure>


<p>Great, we got ourselves WET with Joy, done; we can now move on to greener pastures.<br/>
Well, of course not, that was just pseudocode, we actually need an implementation for this thing. And here it is:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>build-tree-with-value == rollup swap [
</span><span class='line'>  [ [empty-tree] [rolldown dup 0 at rollupd i] ]
</span><span class='line'>  [ [value =] [rolldown dup 1 at rollupd i] ]
</span><span class='line'>      
</span><span class='line'>  [ [value &lt;] [dup left-tree rollupd] [swapd insert-left] ]
</span><span class='line'>  [ [dup right-tree rollupd] [swapd insert-right] ]
</span><span class='line'>] condlinrec popd
</span><span class='line'>
</span><span class='line'>add-val == [[pop [[] []] cons] [popd]] build-tree-with-value;
</span><span class='line'>delete-val == [[popd] [popd delete-tree]] build-tree-with-value</span></code></pre></td></tr></table></div></figure>


<p>Bugger me - I can&#8217;t quite read this, and I wrote that not that long ago.<br/>
So why is it so complicated? In the pseudocode above, I elided any references to argument handling; I just assumed the arguments to be there when needed. That&#8217;s quite natural for someone coming from a background of <a href="http://en.wikipedia.org/wiki/Value-level_programming">value-level</a> programming languages. When you write a function, e.g., in Java, arguments to functions are just there, available, without any fuss, by their name. Not so when you&#8217;re dealing with a stack-based language; here, the arguments are implied to be on the stack, and they have no names. To be able to use them, you have to make sure that they are properly ordered on the top of the stack.</p>

<p>Back to our code. First, we have the easy bits; <code>add-val</code> and <code>delete-val</code> are actually quite similar to our pseudocode. They assume that a tree and a value to be added/removed are on top of the stack, each of them pushes their pair of handling functions onto the top of the stack, and passes control to <code>build-tree-with-value</code>.<br/>
The handler functions are rather simple; to figure them out, we need to remember that when we apply them we have the tree on the top of the stack and the value below it. After the application, we need to leave only the new tree and nothing else. I&#8217;ll leave the figuring out as an exercise to the reader (oh how I hate when people do that. At last, the oh so sweet revenge&#8230;).</p>

<p>Now, <code>build-tree-with-value</code> creates a function that takes three arguments: a tree, a value, and a list with a pair of handler functions; in that order, i.e. the handler functions are on the top of the stack. But we don&#8217;t want them that way, what we need is: handlers, value, tree. That&#8217;s what the first <code>rollup swap</code> functions do. After applying them, we are ready for the recursion. And that&#8217;s the last point where I can still explain the code without taking out a piece of paper and drawing many little stacks on it. As you can see, each condition is followed by a bunch of stack-manipulating functions, the whole purpose of which is to tweak the stack so that the arguments are in the right order, multiplicity and are ready for the further recursive calls. A horrid, horrid piece of code.</p>

<p>I would love to give the explanation of this code to you, the reader, as another exercise, but that would be just plain sadistic. And I won&#8217;t be bothered to explain it myself, that would be way too tedious, boring and quite meaningless. Why meaningless? Because by now, I think that it&#8217;s pretty clear that we are doing something wrong. To quote a <a href="http://www.codecommit.com/blog/cat/the-joy-of-concatenative-languages-part-1#comment-4407">comment</a> from the <a href="http://www.codecommit.com/blog/cat/the-joy-of-concatenative-languages-part-1">The Joy of Concatenative Languages</a> series</p>

<blockquote><p>If you find you need to be continually aware of the stack, then, plain and simple, &#8220;You&#8217;re Doing It Wrong.&#8221;</p></blockquote>

<p>We need to step back and see how we can alleviate the stack manipulation problem. To do that, we&#8217;ll examine a simpler case: the <code>insert-at</code> function. This function takes a list, a value and an index, and inserts the value at the specified position in the list. The algorithm we&#8217;ll be implementing is:</p>

<ul>
<li>take the first N - 1 items from the list (prefix)</li>
<li>take the tail of list starting from the N + 1th item (tail)</li>
<li>concatenate the prefix value and tail.</li>
</ul>


<p>Simple enough, especially as we already have the <code>take</code>, <code>drop</code> and <code>enconcat</code> functions implemented for us. And here&#8217;s my first naive attempt at an implementation:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>insert-at == 
</span><span class='line'>  swapd dupd dup swapd
</span><span class='line'>  take rollup
</span><span class='line'>  1 + drop
</span><span class='line'>  enconcat;</span></code></pre></td></tr></table></div></figure>


<p>Not the horrors of <code>build-tree-with-value</code>, but still far from satisfactory; we cannot, by any means, plead ignorance of the stack.<br/>
For the sport of it, let&#8217;s try to follow the definition.</p>

<ul>
<li>We start out with <code>list val index</code> (the rightmost item is the top of the stack).</li>
<li>The first line rearranges it, so that we have <code>val list index list index</code>.</li>
<li>The second line applies the <code>take</code> function to the top two items and pushes the result down the stack, so we have <code>val prefix list index</code>.</li>
<li>The third line calculates the tail of the list, leaving <code>val prefix tail</code>.</li>
<li>The last line performs the concatenation of all three items on the stack, and we are done.</li>
</ul>


<p>Now, our aim is to reduce the amount of stack related operations we see at each stage. To do this, I tried looking at the different functions and combinators available in Joy. But being a novice, I couldn&#8217;t find anything simple that makes the code much better. What I managed to figure out is that part of the complexity stems from the fact that in order to reuse an argument, I have to duplicate it on the stack, which requires even more manipulation of the stack. One of the combinators that I found, <code>nullary</code>, allows to use a function without removing its arguments from the stack, so one can avoid the duplication in that case. Here&#8217;s the best that I managed:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>insert-at == 
</span><span class='line'>  swapd 
</span><span class='line'>  [take] nullary rollup
</span><span class='line'>  1 + drop
</span><span class='line'>  enconcat;</span></code></pre></td></tr></table></div></figure>


<p>The steps are as follows:</p>

<ul>
<li><code>list val index</code> -> <code>val list index</code></li>
<li><code>val list index</code> -> <code>val list index prefix</code> -> <code>val prefix list index</code></li>
<li><code>val prefix list index</code> -> <code>val prefix tail</code></li>
<li>Concatenating the last three items.</li>
</ul>


<p>A definite improvement, but I still don&#8217;t see it as a satisfactory result. The second line seems rather cryptic to me. Further investigation in this direction did not yield anything better, so I decided to leave it at that.</p>

<p>If there are any Joy or concatenative gurus reading this, I would love to hear your opinion on how this code can be improved.</p>

<p>After abandoning this direction, I had another idea. I will leave it till the next post in the series. But the upshot of it is that I was able to write the following code:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>insert-at == [
</span><span class='line'>  ~1
</span><span class='line'>  ~0 ~2 take
</span><span class='line'>  ~0 ~2 1 + drop
</span><span class='line'>  enconcat
</span><span class='line'>] 3 splice-from-stack;</span></code></pre></td></tr></table></div></figure>


<p>Ignoring the surrounding <code>splice-from-stack</code> call, we&#8217;ve managed to remove all stack related manipulation. The cost, so it seems, is that we introduced something that looks like custom syntax.</p>

<p>To be continued&#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Daniel Beskin</span></span>

      








  


<time datetime="2013-04-21T18:15:00+03:00" pubdate data-updated="true">Apr 21<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/language_perils/blog/categories/joy/'>Joy</a>, <a class='category' href='/language_perils/blog/categories/binary-tree/'>binary tree</a>, <a class='category' href='/language_perils/blog/categories/concatenative/'>concatenative</a>, <a class='category' href='/language_perils/blog/categories/stack-based/'>stack-based</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://ncreep.github.io/language_perils/blog/2013-04-21-joyous-tree-friends.html" data-via="" data-counturl="http://ncreep.github.io/language_perils/blog/2013-04-21-joyous-tree-friends.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/language_perils/blog/2013-03-18-the-joy-of-joy.html" title="Previous Post: The Joy of Joy">&laquo; The Joy of Joy</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/language_perils/blog/2013-04-21-joyous-tree-friends.html">Joyous Tree Friends</a>
      </li>
    
      <li class="post">
        <a href="/language_perils/blog/2013-03-18-the-joy-of-joy.html">The Joy of Joy</a>
      </li>
    
      <li class="post">
        <a href="/language_perils/blog/2013-03-18-introduction.html">Introduction</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Daniel Beskin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'langperils';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ncreep.github.io/language_perils/blog/2013-04-21-joyous-tree-friends.html';
        var disqus_url = 'http://ncreep.github.io/language_perils/blog/2013-04-21-joyous-tree-friends.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
